# use method api spec
__merge__: ../../api/comp_method_embedding.yaml
functionality:
  name: mnn_correct_embedding
  info:
    label: mnnCorrect (embedding)
    summary: "Correct for batch effects in single-cell expression data using the mutual nearest neighbors method."
    description: |
      We present a strategy for batch correction based on the detection of mutual nearest neighbors (MNNs) in the high-dimensional expression space.
      Our approach does not rely on predefined or equal population compositions across batches; instead, it requires only that a subset of the population be shared between batches.
    reference: "haghverdi2018batch"
    repository_url: "https://code.bioconductor.org/browse/batchelor/"
    documentation_url: "https://bioconductor.org/packages/batchelor/"
    preferred_normalization: log_cpm
    variants:
      mnn_full_unscaled:
      mnn_hvg_unscaled:
        hvg: true
  resources:
    - type: r_script
      path: ../mnn_correct_feature/script.R
platforms:
  - type: docker
    image: ghcr.io/openproblems-bio/base_r:1.0.1
    setup:
      - type: r
        bioc:
          - batchelor
  - type: nextflow
    directives:
      label: [ lowcpu, highmem ]
